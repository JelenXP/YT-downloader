<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <title>Redirecting...</title>
</head>
<body>
  <p id="status">Redirecting...</p>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const debug = urlParams.get("debug") === "1";
    
    let redirected = false;

    fetch("https://raw.githubusercontent.com/JelenXP/YT-downloader/main/url.txt", { cache: "no-store" })
      .then(res => res.text())
      .then(url => {
        url = url.trim();
        // Startujeme pÅ™esmÄ›rovÃ¡nÃ­

        
              // Pokud jsme v debug reÅ¾imu, nezpÅ¯sobÃ­me pÅ™esmÄ›rovÃ¡nÃ­
        if (debug) {
          document.getElementById("status").innerHTML =
            'ğŸ§ª Debug mode: the page would redirect to <a href="' + url + '">' + url + '</a>';
          return;
        }

        redirected = true;
        window.location.href = url;

        // Po 3s â€“ kdyby to neprobÄ›hlo â€“ zobrazÃ­me odkaz
        setTimeout(() => {
          if (!redirected) {
            document.getElementById("status").innerHTML =
              'Failed to redirect. Continue manually: <a href="' + url + '">' + url + '</a>';
          }
        }, 3000);
      })
      .catch(() => {
        document.body.innerHTML = "<h1>Redirect error.</h1>";
      });
  </script>
</body>
</html>
